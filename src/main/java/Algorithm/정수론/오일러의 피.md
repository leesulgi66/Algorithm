# 오일러의 피
오일러의 피 함수 P[N]의 정의는 1부터 N까지 범위에서 N과 서로소인 자연수의 개수를 뜻합니다. 
오일러의 피 함수는 증명 과정을 공부해야 완벽하게 알 수 있지만 이 책에서는 실제 코딩 테스트에 
사용하기 위한 구현 부분만 알아봅니다.
※ 서로소 = 최대공약수가 1인 두 자연수

### 오일러 피의 핵심 이론
오일러 피 함수의 원리는 에라토스테네스의 체와 비슷합니다. 한번 알아볼까요?

##### 오일러 피 함수의 원리
1. 구하고자 하는 오일러 피의 범위만큼 배열을 자기 자신의 인덱스값으로 초기화한다.
2. 2부터 시작해 현재 배열의 값과 인덱스가 같으면(= 소수일 때) 현재 선택된 숫자(K)의 배수에 해당하는 수를 배열에 끝까지 탐색하며 P[i] = P[i] - P[i]/K 연산을 수행한다(i는 K의 배수).
3. 배열의 끝까지 2.를 반복하여 오일러 피 함수를 완성한다.

### 오일러의 피 함수의 원리 이해하기
다음 예를 통해 오일러의 피 함수를 좀 더 자세히 알아보겠습니다.
1. 구하고자 하는 범위까지 배열을 생성한 후 2를 선택합니다.
   ![오일러 피 1](https://github.com/leesulgi66/Algorithm/assets/107823688/2de33b6a-5278-4a11-bc20-c3f3eb88b2da)
2. 2의 모든 배수마다 P[i] = P[i] - P[i]/2 연산을 수행해 값을 갱신합니다. 예를 들어 8 = 8 - (8/2)를 통해 4를 계산합니다.
   ![오일러 피 2](https://github.com/leesulgi66/Algorithm/assets/107823688/8dd3447d-2168-4382-81ac-cb519cab3ac4)
3. 소수 구하기에서 배수를 지우는 부분만 P[i] = P[i] - P[i]/K로 변경하면 오일러 피 함수를 간단히 구현할 수 있습니다. 탐색을 계속 진행하면서 N = ϕ(N)인 곳(소수)을 찾아 값을 갱신합니다.
   ![오일러 피 3](https://github.com/leesulgi66/Algorithm/assets/107823688/e10c8c2d-0592-4e2f-9d1e-b14723ce584f)
4. 배열이 끝날 때까지 반복합니다.
   ![오일러 피 5](https://github.com/leesulgi66/Algorithm/assets/107823688/776d5127-ae5b-4554-8288-b44009056b4d)


<br>

##### 수학적으로 오일러 피 함수 이해하기
이 원리가 정확하게 이해되지 않을 수 있습니다. 수학적인 측면에서 좀 더 알아보겠습니다.

- 초기 상태 : ϕ(6) = 6 -> 서로소가 될 수 있는 후보의 개수로 초기화 (1,2,3,4,5,6)
- 2의 배수로 인한 탈락 -> ϕ(6) = 6 - (6/2) = 3(1,3,5)
- 3의 배수로 인한 탈락 -> ϕ(6) = 3 - (3/3) = 2(1,5)
이때 후보에서 삭제하는 기준을 6이 아닌 업데이트된 3으로 진행하는 이유는 3의 배수중 2의 배수인 수는, 즉 3과 2의 공배수는 2의 배수에서 이미 삭제됐기 때문에 중복 삭제를 막기 위함입니다. 이 예시에서는 6을 중복 삭제하지 않기 위한 것이겠죠? 최종적으로 ϕ(6) = 2가 됩니다. 이때 2의 의미는 숫자 6과 6이하의 숫자 중 서로소가 되는 개수가 2개(1,5)라는 뜻이 됩니다. 
