# 연결 요소의 개수 구하기

[문제 링크](https://www.acmicpc.net/problem/11724)

### 문제
방향 없는 그래프가 주어졌을 때, 연결 요소 (Connected Component)의 개수를 구하는 프로그램을 작성하시오.

### 입력
첫째 줄에 정점의 개수 N과 간선의 개수 M이 주어진다. (1 ≤ N ≤ 1,000, 0 ≤ M ≤ N×(N-1)/2) 둘째 줄부터 M개의 줄에 간선의 양 끝점 u와 v가 주어진다. (1 ≤ u, v ≤ N, u ≠ v) 같은 간선은 한 번만 주어진다.

### 출력
첫째 줄에 연결 요소의 개수를 출력한다.

***

<table class="table">
        <thead><tr>
<th>예제 입력 1</th>
<th>예제 출력 1</th>
</tr>
</thead>
        <tbody><tr>
<td>6&nbsp;&nbsp;5    </td>
<td>2     </td>
</tr>
<tr>
<td>1&nbsp;&nbsp;2     </td>
</tr>
<tr>
<td>2&nbsp;&nbsp;5     </td>
</tr>
<tr>
<td>5&nbsp;&nbsp;1     </td>
</tr>
<tr>
<td>3&nbsp;&nbsp;4     </td>
</tr>
<tr>
<td>4&nbsp;&nbsp;6     </td>
</tr>
</tbody>
      </table>

___

#### 01 문제 분석하기
노드 최대 개수가 1,000이므로 시간복잡도 N²이하의 알고리즘을 모두 사용할 수 있습니다. 연결 요소는 에지로 연결된 노드의 집합이며, 한 번의 DFS가 끝날 때까지 탐색한 모든 노드의 집합을 하나의 연결 요소로 판단할 수 있습니다.


#### 02 손으로 풀어보기
1. 그래프를 인접 리스트로 저장하고 방문 배열도 초기화합니다. 방향이 없는 그래프이기 때문에 양쪽 방향으로 에지를 모두 저장합니다.
   ![연결 요소 1](https://github.com/leesulgi66/Algorithm/assets/107823688/b3a3f995-feac-4f2b-b6c0-494429dded5f)
2. 임의의 시작점에서 DFS를 수행합니다. 현재의 경우 1을 시작점으로 정했습니다. 탐색을 마친 이후 방문한 곳은 1,2,5가 되었습니다.
   ![연결 요소 2](https://github.com/leesulgi66/Algorithm/assets/107823688/cc0892eb-c2c7-480a-bfac-3b624a56ecf2)
3. 아직 방문하지 않은 노드가 있으므로 시작점을 다시 정해 탐색을 진행합니다. 현재의 경우 3,4,6순서로 탐색을 마쳤습니다. 모든 노드를 방문했으니 전체 담색을 종료합니다.
   ![연결 요소 3](https://github.com/leesulgi66/Algorithm/assets/107823688/fdddfbbb-2bdb-4749-9afe-bd95cf9f829b)
4. 1-3 과정을 통해 총 2번의 DFS가 진행되었다는 것을 알 수 있습니다. 즉, 연결 요소 개수는 2개입니다.
모든 노드를 탐색하여 탐색 종료 -> DFS 총 2회 수행 => 연결 요소 개수 = 2

만약 그래프가 모두 연결되어 있었다면 DFS는 한번 실행되었을 것입니다. 다시 말해 모든 노드를 탐색하는 데 실행한 DFS의 실행 횟수가 곧 연결 요소 개수와 같습니다.

#### 03 슈도코드 작성하기
```java
n(노드 개수) m(에지 개수)
A(그래프 데이터 저장 인접 리스트)
visited(방문 기록 저장 배열)
for(n의 개수만큼 반복하기){
    A 인접 리스트의 각 ArrayList 초기화하기
}
for(m의 개수만큼 반복하기){
    A 인접 리스트에 그래프 데이터 저장하기    
}
for(n의 개수만큼 반복하기){
    if(방문하지 않은 노드가 있으면){
        연결 요소 개수 ++
        DFS 실행하기
     }    
}
// DFS 구현하기
DFS{
    if(현재 노드 == 방문 노드) return;
    visited 배열에 현재 노드 방문 기록하기 
    현재 노드의 연결 노드 중 방문하지 않은 노드로 DFS 실행하기(재귀 함수 형태) 
}

```

앞에서 DFS를 설명할 때는 스택으로 설명했지만 여기서는 재귀 함수를 사용하겠습니다. "그러면 완전 다른 방식으로 DFS를 구현한 것인가요?" 라고 질문할 수 있습니다. 하지만 재귀 함수는 스택과 같은 방식으로 처리됩니다. 즉, 위의 슈도 코드는 연결 리스트와 스택을 사용한 방식과 같은 방식으로 구현한 것이라 할 수 있습니다.