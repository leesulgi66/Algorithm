# DFS(depth-first search)

깊이 우선 탐색(DFS:depth-first search)은 그래프 완전 탐색 기법 중 하나입니다. 깊이 우선 탐색은 그래프의 시작 노드에서 출발하여 탐색할 한 쪽 분기를 정하여 최대 깊이까지 탐색을 마친 후 다른 쪽 분기로 이동하여 다시 탐색을 수행하는 알고리즘 입니다. 

다음 깊이 우선 탐색의 기능, 특징, 시간 복잡도를 표로 정리한 것입니다. 표의 시간 복잡도는 노드 개수를 v, 에지 개수를 E로 표시했습니다.

<table class="table">
        <thead><tr>
<th>기능</th>
<th>특징</th>
<th>시간 복잡도(노드수:V,에지수:E)</th>
</tr>
</thead>
        <tbody><tr>
<td>그래프 완전 탐색     </td>
<td>ㆍ재귀 함수로 구현<br>ㆍ스택 자료구조 이용     </td>
<td>O(V + E)     </td>
</tr>
</tbody>
</table>

깊이 우선 탐색은 실제 구현 시 재귀 함수를 이용하므로 스택 오버플로에 유의해야 합니다. 깊이 우선 탐색을 응용하여 풀 수 있는 문제는 단절점 찾기, 단절선 찾기, 사이클 차기, 위상 정렬 등이 있습니다.

### 깊이 우선 탐색의 핵심 이론
DFS는 한 번 방문한 노드를 다시 방문하면 안 되므로 노드 방문 여부를 체크할 배열이 필요하며, 그래프는 인접 리스트로 표현하겠습니다. 그리고 DFS의 탐색 방식은 후입선출 특성을 가지므로 스택을 사용하며 설명하겠습니다.  
▶여기서는 설명의 편의를 위해 스택을 사용힜씁니다. 하지만 DFS구현은 스택보다는 스택 성질을 갖는 재귀 함수로 많이 구현합니다.

***

#### 1. DFS를 시작할 노드를 정한 후 사용할 자료구조 초기화하기
DFS를 위해 필요한 초기 작업은 인접 리스트로 그래프 표현하기, 방문 배열 초기화하기, 시작 노드 스택에 삽입하기입니다. 스택에 시작 노드를 1로 삽입할 때 해당 위치의 방문배열을 체크하면 T,F,F,F,F,F 가 됩니다.

![DFS1](https://github.com/leesulgi66/Algorithm/assets/107823688/5774bcbe-65d4-4584-b134-b332a4c6f01b)
    
#### 2. 스택에서 노드를 꺼낸 후 노드으 인접 노드를 다시 스택에 삽입하기
이제 pop을 수행하여 노드를 꺼냅니다. 꺼낸 노드를 탐색 순서에 기입하고 인접 리스트의 인접 노드를 스특에 삽입하며 방문 배열을 체크합니다. 방문 배열은 T,T,T,F,F,F가 됩니다.  

![DFS2](https://github.com/leesulgi66/Algorithm/assets/107823688/9347b230-fa2e-4aaa-8c88-ad4705fcf8cf)

#### 3. 스택 자료구조에 값이 없을 때까지 반복하기
앞선 과정을 스택 자료구조에 값이 없을 때까지 방복합니다. 이때 이미 다녀간 노드는 방문 배열을 바탕으로 재삽입하지 않는 것이 핵심입니다.

![DFS3](https://github.com/leesulgi66/Algorithm/assets/107823688/9822c767-f4c9-4531-b39b-d5431da86180)

이어서 설명하면 스택에서 3을 꺼내며 탐색 순서에 기록하고 인접 노드4를 스택에 삽입하며 방문 배열에 체크합니다. 4를 꺼내며 탐색 순서에 기록하고 6을 삽입하며 방문 배열에 체크합니다. 6을 꺼내며 탐색 순서에 기록하고 6과 인접한 노드는 없으므로 추가 삽입은 없습니다. 계속해서 스ㅐㄱ에서 2를 꺼내며 탐색 순서에 기록하고 2와 인접한 5,6을 삽입하기 위해 봅니다. 이때 6은 방문 배열에 T로 체크되어 있으므로 5만 삽입합니다. 이 과정을 스택이 빌 때까지 진행합니다.  
▶스택에 **노드를 삽입할 때** 방문 배열을 체크하고, 스택에서 **노드를 뺄 때** 탐색 순서에 기록하며 인접 노드를 반문 배열과 대조하여 살펴봅니다.